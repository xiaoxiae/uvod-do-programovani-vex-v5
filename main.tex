\documentclass[11pt]{article}

\usepackage[czech]{babel}
\usepackage{a4wide}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fancyhdr}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{mleftright}
\usepackage{subcaption}
\usepackage{parskip}

\usepackage{siunitx}
\sisetup{per-mode = symbol}

% https://tex.stackexchange.com/questions/164113/the-exercise-package-in-list-form
% ---
\usepackage{scrextend}

\usepackage[load-headings]{exsheets}
\DeclareInstance{exsheets-heading}{mylist}{default}{
  runin = true ,
  attach = {
    main[l,vc]number[l,vc](-2em,0pt) ;
    main[l,vc]title[l,vc](-5.5em,0pt)
  }
}

\DeclareTranslation{Czech}{exsheets-exercise-name}{Příklad}
\DeclareTranslation{Czech}{exsheets-solution-name}{Řešení}

\SetupExSheets{
  headings = mylist , % use the new headings instance
  headings-format = \it ,
  counter-format = se.qu ,
  counter-within = section ,
	question/pre-hook = \addmargin[5.5em]{0em} ,
	solution/pre-hook = \addmargin[5.5em]{0em} ,
	question/post-hook = \endaddmargin ,
	solution/post-hook = \endaddmargin
}
% ---

% forcing footnotes to be at the very bottom
\usepackage[bottom]{footmisc}

\usepackage{hyperref}
\usepackage{titlesec}
\usepackage{subfiles}

\usepackage{geometry}
\geometry{
    a4paper,
    total={170mm,257mm},
    right=20mm,
    left=20mm,
    top=30mm,
    bottom=20mm,
}

\titleformat{\section} {\normalfont\fontsize{16}{15}\bfseries}{\thesection}{1em}{}
\titleformat{\subsection} {\normalfont\fontsize{14}{15}\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection} {\normalfont\fontsize{12}{15}\bfseries}{\thesubsubsection}{1em}{}

\usepackage{tcolorbox}
\tcbset{on line,
        boxsep=4pt, left=0pt,right=0pt,top=0pt,bottom=0pt,
        colframe=white
        }

\pagestyle{fancy}
\fancyhf{}
% Now set the headers
\fancyhead[LE,RO]{\footnotesize\thepage}
\fancyhead[LO,RE]{\footnotesize\leftmark}
\fancyfoot{}
\fancyfoot[R]{\thepage}

\definecolor{ceruleanblue}{rgb}{0.16, 0.32, 0.75}
\definecolor{motorlight}{rgb}{0.85, 0.80, 0.70}
\definecolor{motordark}{rgb}{0.64, 0.51, 0.25}
\definecolor{wait}{rgb}{0.64, 0.25, 0.25}

\begin{document}

\begin{titlepage}
    \begin{center}
        \vspace*{1cm}
            
        \Huge
        \textbf{Robotika 3}
            
        \vspace{0.5cm}
        \LARGE
				Programování Robota
        
        \vspace{1.5cm}
        
        \vfill
        \flushright
        \normalsize
				Tomáš Sláma\\
				\today
        
    \end{center}
\end{titlepage}

\tableofcontents
\clearpage

% https://tex.stackexchange.com/questions/263467/exsheets-how-to-get-a-counter-reference-combining-section-and-question-numbers
\renewcommand\thequestion{\thesection.\arabic{question}}

\newcommand{\block}{$\vcenter{\hbox{\includegraphics[height=1em]{../Images/blocky-logo.png}}}$}
\newcommand{\blockimage}[2]{$\vcenter{\hbox{\includegraphics[height=#1]{#2}}}$}

\setcounter{secnumdepth}{0}
\section{Předmluva}
\setcounter{secnumdepth}{3}

Tato příručka byla sepsána Tomášem Slámou ke vzdělávacímu programu Robotika 3 a slouží jako učebnice k programování robota Vex V5.

\subsection{Postavený robot}

\newpage

\subfile{Chapters/01.tex}
\newpage
\subfile{Chapters/02.tex}
\newpage
\subfile{Chapters/03.tex}
\newpage
\subfile{Chapters/04.tex}
\newpage
\subfile{Chapters/05.tex}
\newpage
\subfile{Chapters/06.tex}
\newpage
\subfile{Chapters/07.tex}
\newpage

\setcounter{secnumdepth}{0}
\section{Řešení příkladů}
\setcounter{secnumdepth}{3}

\printsolutions

\end{document}
